<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>–ú–û–î–£–õ–¨ B</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

/* Override strong tags inside headings to maintain consistent weight */
h1 strong,
h2 strong,
h3 strong {
	font-weight: 600;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 10px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.collection-content td {
	white-space: pre-wrap;
	word-break: break-word;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.callout img.notion-static-icon {
	width: 1em;
	height: 1em;
}

.callout p {
	margin: 0;
}

.callout h1,
.callout h2,
.callout h3 {
	margin: 0 0 0.6rem;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

blockquote.quote-large {
	font-size: 1.25em;
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(44, 44, 43, 1);
}
.highlight-gray {
	color: rgba(125, 122, 117, 1);
	fill: rgba(125, 122, 117, 1);
}
.highlight-brown {
	color: rgba(159, 118, 90, 1);
	fill: rgba(159, 118, 90, 1);
}
.highlight-orange {
	color: rgba(210, 123, 45, 1);
	fill: rgba(210, 123, 45, 1);
}
.highlight-yellow {
	color: rgba(203, 148, 52, 1);
	fill: rgba(203, 148, 52, 1);
}
.highlight-teal {
	color: rgba(80, 148, 110, 1);
	fill: rgba(80, 148, 110, 1);
}
.highlight-blue {
	color: rgba(56, 125, 201, 1);
	fill: rgba(56, 125, 201, 1);
}
.highlight-purple {
	color: rgba(154, 107, 180, 1);
	fill: rgba(154, 107, 180, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(207, 81, 72, 1);
	fill: rgba(207, 81, 72, 1);
}
.highlight-default_background {
	color: rgba(44, 44, 43, 1);
}
.highlight-gray_background {
	background: rgba(42, 28, 0, 0.07);
}
.highlight-brown_background {
	background: rgba(139, 46, 0, 0.086);
}
.highlight-orange_background {
	background: rgba(224, 101, 1, 0.129);
}
.highlight-yellow_background {
	background: rgba(211, 168, 0, 0.137);
}
.highlight-teal_background {
	background: rgba(0, 100, 45, 0.09);
}
.highlight-blue_background {
	background: rgba(0, 124, 215, 0.094);
}
.highlight-purple_background {
	background: rgba(102, 0, 178, 0.078);
}
.highlight-pink_background {
	background: rgba(197, 0, 93, 0.086);
}
.highlight-red_background {
	background: rgba(223, 22, 0, 0.094);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(125, 122, 117, 1);
	fill: rgba(125, 122, 117, 1);
}
.block-color-brown {
	color: rgba(159, 118, 90, 1);
	fill: rgba(159, 118, 90, 1);
}
.block-color-orange {
	color: rgba(210, 123, 45, 1);
	fill: rgba(210, 123, 45, 1);
}
.block-color-yellow {
	color: rgba(203, 148, 52, 1);
	fill: rgba(203, 148, 52, 1);
}
.block-color-teal {
	color: rgba(80, 148, 110, 1);
	fill: rgba(80, 148, 110, 1);
}
.block-color-blue {
	color: rgba(56, 125, 201, 1);
	fill: rgba(56, 125, 201, 1);
}
.block-color-purple {
	color: rgba(154, 107, 180, 1);
	fill: rgba(154, 107, 180, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(207, 81, 72, 1);
	fill: rgba(207, 81, 72, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(240, 239, 237, 1);
}
.block-color-brown_background {
	background: rgba(245, 237, 233, 1);
}
.block-color-orange_background {
	background: rgba(251, 235, 222, 1);
}
.block-color-yellow_background {
	background: rgba(249, 243, 220, 1);
}
.block-color-teal_background {
	background: rgba(232, 241, 236, 1);
}
.block-color-blue_background {
	background: rgba(229, 242, 252, 1);
}
.block-color-purple_background {
	background: rgba(243, 235, 249, 1);
}
.block-color-pink_background {
	background: rgba(250, 233, 241, 1);
}
.block-color-red_background {
	background: rgba(252, 233, 231, 1);
}
.select-value-color-default { background-color: rgba(42, 28, 0, 0.07); }
.select-value-color-gray { background-color: rgba(28, 19, 1, 0.11); }
.select-value-color-brown { background-color: rgba(127, 51, 0, 0.156); }
.select-value-color-orange { background-color: rgba(196, 88, 0, 0.203); }
.select-value-color-yellow { background-color: rgba(209, 156, 0, 0.282); }
.select-value-color-green { background-color: rgba(0, 96, 38, 0.156); }
.select-value-color-blue { background-color: rgba(0, 118, 217, 0.203); }
.select-value-color-purple { background-color: rgba(92, 0, 163, 0.141); }
.select-value-color-pink { background-color: rgba(183, 0, 78, 0.152); }
.select-value-color-red { background-color: rgba(206, 24, 0, 0.164); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="3065e03f-0cac-800e-8bea-c5d586cdd265" class="page sans"><header><h1 class="page-title" dir="auto">–ú–û–î–£–õ–¨ B</h1><p class="page-description" dir="auto"></p></header><div class="page-body"><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-80ec-9f50-c4243cabe89a" class=""><strong>‚è±Ô∏è –¢–ê–ô–ú–ò–ù–ì –ù–ê –ß–ï–ú–ü–ò–û–ù–ê–¢–ï (4 –ß–ê–°–ê)</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80e4-be1e-e03ab9334f0b" class=""><strong>–†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–ù–´–ô –ü–õ–ê–ù:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-8060-bb13-e0aa29064739" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">00:00-00:10 (10 –º–∏–Ω) ‚Äî –ò–∑—É—á–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ, —Ç–æ–ø–æ–ª–æ–≥–∏—é, –∑–∞–ø–∏—Å–∞—Ç—å IP
00:10-00:25 (15 –º–∏–Ω) ‚Äî SSH + Fail2ban –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
00:25-00:50 (25 –º–∏–Ω) ‚Äî FreeIPA: —Å–æ–∑–¥–∞—Ç—å 71 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
00:50-01:10 (20 –º–∏–Ω) ‚Äî –ü–∞—Ä–æ–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ + Petya + backup
01:10-01:40 (30 –º–∏–Ω) ‚Äî OpenVPN –º–µ–∂–¥—É —Ä–æ—É—Ç–µ—Ä–∞–º–∏
01:40-02:00 (20 –º–∏–Ω) ‚Äî OSPF
02:00-02:30 (30 –º–∏–Ω) ‚Äî HTTPS –≤–µ–±-—Å–µ—Ä–≤–µ—Ä—ã
02:30-02:50 (20 –º–∏–Ω) ‚Äî NFS + PC1 –≤ –¥–æ–º–µ–Ω
02:50-03:10 (20 –º–∏–Ω) ‚Äî NFTables
03:10-03:30 (20 –º–∏–Ω) ‚Äî Wireguard + –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
03:30-03:50 (20 –º–∏–Ω) ‚Äî Docker + –ø–æ–∏—Å–∫ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
03:50-04:00 (10 –º–∏–Ω) ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞, —á–µ—Ä–Ω–æ–≤–∏–∫</code></pre></div><div style="display:contents" dir="auto"><h3 id="3065e03f-0cac-80a3-ab97-ccba59d123d2" class=""><strong>1Ô∏è‚É£ –ó–ê–ß–ï–ú –¢–û–ü–û–õ–û–ì–ò–Ø, –ï–°–õ–ò –¢–´ –í–°–Å –ó–ù–ê–ï–®–¨?</strong></h3></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80eb-8f3c-e7465f7544bd" class=""><strong>–†–ï–ê–õ–¨–ù–û–°–¢–¨ –ù–ê –ß–ï–ú–ü–ò–û–ù–ê–¢–ï:</strong></p></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8051-a61c-f015555a98ad" class=""><strong>–¢–û–ü–û–õ–û–ì–ò–Ø –ë–£–î–ï–¢ –î–†–£–ì–ê–Ø!</strong></p></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8002-8c30-df1a9ef2c1fd" class=""><strong>–ß—Ç–æ —è –∏–º–µ—é –≤ –≤–∏–¥—É:</strong></p></div><div style="display:contents" dir="auto"><ul id="3065e03f-0cac-80f7-b253-cb20e9f2afa7" class="bulleted-list"><li style="list-style-type:disc">IP-–∞–¥—Ä–µ—Å–∞ –º–æ–≥—É—Ç –±—ã—Ç—å <strong>–¥—Ä—É–≥–∏–º–∏</strong> (–Ω–µ 192.168.1.10, –∞ 172.16.5.10)</li></ul></div><div style="display:contents" dir="auto"><ul id="3065e03f-0cac-80ce-8b58-d4095dd9c006" class="bulleted-list"><li style="list-style-type:disc">–ù–∞–∑–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å <strong>–¥—Ä—É–≥–∏–º–∏</strong> (–Ω–µ MAIN-DC1, –∞ SRV-IPA-01)</li></ul></div><div style="display:contents" dir="auto"><ul id="3065e03f-0cac-8099-adec-fe007cd0b4af" class="bulleted-list"><li style="list-style-type:disc">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –º–æ–∂–µ—Ç <strong>–æ—Ç–ª–∏—á–∞—Ç—å—Å—è</strong></li></ul></div><div style="display:contents" dir="auto"><ul id="3065e03f-0cac-803b-a3c7-fa2733eda2b3" class="bulleted-list"><li style="list-style-type:disc">–°–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –º–æ–≥—É—Ç –±—ã—Ç—å <strong>–¥—Ä—É–≥–∏–º–∏</strong></li></ul></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8099-9fc7-eae2a3adcb8d" class=""><strong>–ü–æ—ç—Ç–æ–º—É —Ç–µ–±–µ –¥–∞–¥—É—Ç —Å—Ö–µ–º—É, —á—Ç–æ–±—ã —Ç—ã –ø–æ–Ω—è–ª:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-8079-8580-e492507cfdcf" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">–ö–∞–∫–æ–π —Å–µ—Ä–≤–µ—Ä –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è?
–ö–∞–∫–∏–µ IP-–∞–¥—Ä–µ—Å–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
–ß–µ—Ä–µ–∑ –∫–∞–∫–æ–π —Ä–æ—É—Ç–µ—Ä –∏–¥—ë—Ç —Ç—Ä–∞—Ñ–∏–∫?</code></pre></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-8019-988b-ed7992eab986"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-80d5-9adc-c028cdc9d2ce" class=""><strong>–ü–†–ò–ú–ï–†:</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8049-b82e-cae7cabdbd53" class=""><strong>–¢—ã –≤—ã—É—á–∏–ª:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-800a-8017-cb5f6905a30d" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">MAIN-DC1: 192.168.1.10
PC1: 192.168.3.20</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8054-82cd-d561ecf35173" class=""><strong>–ù–∞ —á–µ–º–ø–∏–æ–Ω–∞—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-801d-993c-d8c6ebb46e19" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">DC-PRIMARY: 10.50.1.5
CLIENT-01: 10.50.3.100</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80a6-9ac8-ce3e71e066ff" class=""><strong>–¢–æ–ø–æ–ª–æ–≥–∏—è –ø–æ–∫–∞–∂–µ—Ç —Ç–µ–±–µ –Ω–∞—Å—Ç–æ—è—â–∏–µ –∞–¥—Ä–µ—Å–∞!</strong></p></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8027-a67c-d559558edd6c" class="">
</p></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-800c-9c25-e44f9ff932aa"/></div><div style="display:contents" dir="auto"><h1 id="3065e03f-0cac-8061-9caa-cfe3d197eb64" class=""><strong>üìÑ –û–¢–ß–Å–¢–ù–û–°–¢–¨</strong></h1></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80b3-91a7-e2a569bf72c6" class=""><strong>–ß–¢–û –ù–£–ñ–ù–û –û–°–¢–ê–í–ò–¢–¨:</strong></p></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-8071-bff9-fcf22a070d52" class=""><strong>1. –ß–µ—Ä–Ω–æ–≤–∏–∫ (–±—É–º–∞–∂–Ω—ã–π –ª–∏—Å—Ç)</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8097-bd70-dd4f02e5016a" class=""><strong>–ß—Ç–æ –ø–∏—Å–∞—Ç—å:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-807a-abae-db939a51bff0" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">=== –ú–û–î–£–õ–¨ B: –ó–∞—â–∏—Ç–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã ===

–£–ß–Å–¢–ù–´–ï –î–ê–ù–ù–´–ï:
- SSH –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: sshuser / P@ssw0rd
- FreeIPA admin: admin / &lt;–ø–∞—Ä–æ–ª—å –∏–∑ –∑–∞–¥–∞–Ω–∏—è&gt;
- Backup –ø–∞—Ä–æ–ª—å: BackupPa$$

IP-–ê–î–†–ï–°–ê (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª):
- MAIN-DC1: 192.168.1.10
- COD-WEB: 10.10.20.100

–í–ê–ñ–ù–´–ï –§–ê–ô–õ–´:
- Backup: /mnt/backup-user.backup
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: ~/BACKUP_RESTORE.txt
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã CA: /etc/ca/

VPN:
- OpenVPN –ø–æ—Ä—Ç: 1194
- Wireguard –ø–æ—Ä—Ç: 51820

–£–Ø–ó–í–ò–ú–û–°–¢–ò (–Ω–∞–π–¥–µ–Ω–Ω—ã–µ):
–ü–õ–ö —Å–µ—Ä–≤–µ—Ä:
1. –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç 8080 –±–µ–∑ –ø–∞—Ä–æ–ª—è
2. Docker –∑–∞–ø—É—â–µ–Ω –æ—Ç root
3. Nginx –≤–µ—Ä—Å–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–∞—è

CI/CD —Å–∫—Ä–∏–ø—Ç—ã:
1. –ü–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ —Å–∫—Ä–∏–ø—Ç–µ deploy.sh
2. –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫ (–Ω–µ—Ç set -e)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ eval —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –≤–≤–æ–¥–æ–º
4. Sudo –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π</code></pre></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-805c-909f-d88a7d472129"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-80d7-a071-eb189afec80a" class=""><strong>2. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é backup</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-805b-94a0-c62f41142088" class=""><strong>–§–∞–π–ª:</strong> <code>~/BACKUP_RESTORE.txt</code> –Ω–∞ MAIN-DC1</p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-8024-86a6-cfa55d4eb6de" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">=== –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Æ BACKUP FreeIPA ===

–ü–∞—Ä–æ–ª—å –∞—Ä—Ö–∏–≤–∞: BackupPa$$

–®–∞–≥ 1: –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
openssl enc -aes-256-cbc -d -pbkdf2 -in /mnt/backup-user.backup -out backup.tar.gz -pass pass:&quot;BackupPa$$&quot;

–®–∞–≥ 2: –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å
tar -xzf backup.tar.gz

–®–∞–≥ 3: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
ldapadd -x -D &quot;cn=Directory Manager&quot; -W -f ldap_*.ldif

–í—ã–ø–æ–ª–Ω—è—Ç—å –Ω–∞ MAIN-DC1 –æ—Ç root</code></pre></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-809d-96c5-cdc2de25da15"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-80d6-8159-e08ff8dac6cb" class=""><strong>3. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–∞—Ö</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80ae-a5ed-cb9d46bff13f" class=""><strong>–ï—Å–ª–∏ –¥–µ–ª–∞–µ—à—å —á—Ç–æ-—Ç–æ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ ‚Äî –æ—Å—Ç–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-8004-8d1b-d4de72100e47" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all"># –í /etc/openvpn/server.conf
# –ü–æ—Ä—Ç –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ 1195 –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å –¥—Ä—É–≥–∏–º —Å–µ—Ä–≤–∏—Å–æ–º
port 1195</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8090-9ccc-fbdd502df83d" class="">
</p></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-80e2-9fc7-d4d6228eca82"/></div><div style="display:contents" dir="auto"><h1 id="3065e03f-0cac-804c-bab5-f2abd9747b33" class=""><strong>üóÇÔ∏è –ü–û–õ–ù–ê–Ø –®–ü–ê–†–ì–ê–õ–ö–ê: –ö–û–ú–ê–ù–î–´</strong></h1></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-80b7-a26f-c6bb5d90ccd5" class=""><strong>1Ô∏è‚É£ SSH + FAIL2BAN + AUDITD</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8049-a983-d3c99dfcdf13" class=""><strong>–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è SSH:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-807f-b949-c33e2cde2486" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">useradd -m -s /bin/bash sshuser
passwd sshuser</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8059-b92f-eb0ab482b8b3" class=""><strong>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-803c-a449-de21bf375a32" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">echo &quot;PermitRootLogin no&quot; &gt;&gt; /etc/ssh/sshd_config
echo &quot;AllowUsers sshuser&quot; &gt;&gt; /etc/ssh/sshd_config
systemctl restart sshd</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8057-9e83-cd0967f38f40" class=""><strong>Fail2ban:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80e3-ad6a-c1cd03cf9623" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y fail2ban

cat &gt; /etc/fail2ban/jail.local &lt;&lt; &#x27;EOF&#x27;
[DEFAULT]
bantime = 1m
maxretry = 2

[sshd]
enabled = true
EOF

systemctl enable fail2ban
systemctl restart fail2ban</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80e0-a39a-faff0a36c0e2" class=""><strong>Auditd:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-800e-a541-d76a29f59194" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y auditd

cat &gt; /etc/audit/rules.d/ssh.rules &lt;&lt; &#x27;EOF&#x27;
-w /usr/sbin/sshd -p x -k ssh_exec
-w /etc/ssh/sshd_config -p wa -k ssh_config
EOF

systemctl restart auditd</code></pre></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-80cf-92cf-cd79ed49b697"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-80b6-85ed-f5342205c16d" class=""><strong>2Ô∏è‚É£ VPN (–ö–†–ê–¢–ö–û)</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80ec-b4ce-cddb5bff69b3" class=""><strong>OpenVPN —Å–µ—Ä–≤–µ—Ä (COD-RTR):</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-806b-9f8a-c743465a5305" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y openvpn easy-rsa
make-cadir ~/openvpn-ca
cd ~/openvpn-ca
./easyrsa init-pki
./easyrsa build-ca nopass
./easyrsa gen-req server nopass
./easyrsa sign-req server server
./easyrsa gen-dh
openvpn --genkey secret ta.key</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80f4-b4bb-ef8645f1015a" class=""><strong>–ö–æ–Ω—Ñ–∏–≥ </strong><code><strong>/etc/openvpn/server.conf</strong></code><strong>:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80fd-a3b2-fa2c7af8f050" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">port 1194
proto udp
dev tun
ca /root/openvpn-ca/pki/ca.crt
cert /root/openvpn-ca/pki/issued/server.crt
key /root/openvpn-ca/pki/private/server.key
dh /root/openvpn-ca/pki/dh.pem
tls-auth /root/openvpn-ca/ta.key 0
server 10.8.0.0 255.255.255.0
push &quot;route 10.10.10.0 255.255.255.0&quot;
push &quot;route 10.10.20.0 255.255.255.0&quot;
cipher AES-256-GCM
persist-key
persist-tun</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8025-a155-c074681e538a" class=""><strong>Wireguard (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π):</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80ab-92e4-c83abb9d94ef" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y wireguard
cd /etc/wireguard
wg genkey | tee private.key | wg pubkey &gt; public.key</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-806a-b301-fae6d6079679" class=""><strong>–ö–æ–Ω—Ñ–∏–≥ </strong><code><strong>/etc/wireguard/wg0.conf</strong></code><strong>:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80a2-b2cc-d17cd84931d6" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">[Interface]
Address = 10.9.0.1/24
ListenPort = 51820
PrivateKey = &lt;—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ private.key&gt;

[Peer]
PublicKey = &lt;–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∫–ª–∏–µ–Ω—Ç–∞&gt;
AllowedIPs = 10.9.0.2/32</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80bf-bc0e-cd26ae451d05" class="">
</p></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-801e-b914-f073fb754628"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-80bb-b1ec-e74c07162985" class=""><strong>3Ô∏è‚É£ FreeIPA</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8029-bff1-e52e80265584" class=""><strong>–í–æ–π—Ç–∏:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-800c-aa7a-ea43c52dc4b8" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">kinit admin</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8014-a21f-e01ba1c8c440" class=""><strong>–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—ã:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-800a-972d-dd418c9c1166" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ipa group-add Administrators
ipa group-add Worker
ipa group-add TopManager</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-800d-a9e0-d054c8e3698f" class=""><strong>–°–æ–∑–¥–∞—Ç—å 71 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–∫—Ä–∏–ø—Ç):</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80d3-8685-cf7b1e882660" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">for i in {1..40}; do
  echo -e &quot;P@ssw0rdAdmin\nP@ssw0rdAdmin&quot; | ipa user-add user$i --first=User --last=$i --password 2&gt;/dev/null
  ipa group-add-member Administrators --users=user$i 2&gt;/dev/null
done

for i in {41..80}; do
  echo -e &quot;P@ssw0rdWorker\nP@ssw0rdWorker&quot; | ipa user-add user$i --first=User --last=$i --password 2&gt;/dev/null
  ipa group-add-member Worker --users=user$i 2&gt;/dev/null
done

for i in {100..130}; do
  echo -e &quot;P@ssw0rdTop\nP@ssw0rdTop&quot; | ipa user-add superuser$i --first=SuperUser --last=$i --password 2&gt;/dev/null
  ipa group-add-member TopManager --users=superuser$i 2&gt;/dev/null
done</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-809f-a841-fa3c4b14f06b" class=""><strong>–ü–∞—Ä–æ–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-809e-8f9d-e0bfae8b7eb7" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ipa pwpolicy-mod --minlength=10 --minclasses=3 --history=4 --maxlife=31 --lockouttime=900 --maxfail=3</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80fb-af39-d181b482de10" class=""><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Petya:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80fd-821e-f30df444d06a" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">echo -e &quot;Pa\$\$w0rd2026-2027\nPa\$\$w0rd2026-2027&quot; | ipa user-add petya --first=Petya --last=Petrov --password
ipa user-mod petya --principal-expiration=20260515000000Z</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80c9-8b6b-f2a1c627274e" class=""><strong>Backup:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-8068-8ee2-f2180f648eed" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ldapsearch -x -D &quot;cn=Directory Manager&quot; -w &quot;&lt;–ø–∞—Ä–æ–ª—å&gt;&quot; -b &quot;dc=reaskills,dc=cyber&quot; -LLL &gt; /tmp/backup.ldif
tar -czf /tmp/backup.tar.gz /tmp/backup.ldif
openssl enc -aes-256-cbc -salt -pbkdf2 -in /tmp/backup.tar.gz -out /mnt/backup-user.backup -pass pass:&quot;BackupPa\$\$&quot;</code></pre></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-80c8-b699-d0858480bf3b"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-8049-9874-caef4bafad0c" class=""><strong>4Ô∏è‚É£ OSPF</strong></h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80a1-a5bb-d31cc13ab002" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y frr
sed -i &#x27;s/ospfd=no/ospfd=yes/&#x27; /etc/frr/daemons

vtysh
configure terminal
router ospf
  ospf router-id 1.1.1.1
  network 10.8.0.0/24 area 0
  network 10.10.10.0/24 area 0
exit
interface tun0
  ip ospf authentication message-digest
  ip ospf message-digest-key 1 md5 secret_key
exit
exit
write memory
exit

systemctl restart frr</code></pre></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-8080-ba29-f90f0940a45b"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-808f-af9b-fe20ac0e36d8" class=""><strong>5Ô∏è‚É£ NFTABLES</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8036-b986-d7ac0cecc640" class=""><strong>NAT:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80bc-95a3-c11e5f747be7" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y nftables
nft add table ip nat
nft add chain ip nat postrouting { type nat hook postrouting priority 100 \; }
nft add rule ip nat postrouting oifname &quot;eth0&quot; masquerade</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80ef-914d-f1882c6f1709" class=""><strong>Rate limit:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80b9-9c11-faff412c4755" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">nft add table inet filter
nft add chain inet filter input { type filter hook input priority 0 \; policy drop \; }
nft add rule inet filter input ct state established,related accept
nft add rule inet filter input iif lo accept
nft add rule inet filter input tcp dport 22 accept
nft add rule inet filter input limit rate 100/second accept</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-8063-ae20-e15ec98d7df0" class=""><strong>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80fb-90f5-d6a1104f3078" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">nft list ruleset &gt; /etc/nftables.conf
systemctl enable nftables</code></pre></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-8012-bda4-eb61d10dfc1e"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-803b-9483-de432419fe83" class=""><strong>6Ô∏è‚É£ NFS</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80e7-977f-ff4fc54e0594" class=""><strong>–°–µ—Ä–≤–µ—Ä (MAIN-STORAGE):</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80d4-8502-f1574c1e8739" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y nfs-kernel-server
mkdir -p /data
chmod 777 /data
echo &quot;/data 192.168.3.0/24(rw,sync,no_root_squash)&quot; &gt;&gt; /etc/exports
exportfs -ra
systemctl restart nfs-kernel-server</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-801b-a106-fed2b37df332" class=""><strong>–ö–ª–∏–µ–Ω—Ç (PC1):</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-801c-8816-ec7c3ebac012" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y nfs-common
mkdir -p /mnt/home
mount 192.168.2.10:/data /mnt/home
echo &quot;192.168.2.10:/data /mnt/home nfs defaults 0 0&quot; &gt;&gt; /etc/fstab</code></pre></div><div style="display:contents" dir="auto"><hr id="3065e03f-0cac-80d5-ba34-e5279c8c6f5d"/></div><div style="display:contents" dir="auto"><h2 id="3065e03f-0cac-80d7-9ae4-c14d392180c7" class=""><strong>7Ô∏è‚É£ HTTPS –í–ï–ë-–°–ï–†–í–ï–†–´</strong></h2></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-80e6-b90f-f7865f3c46bc" class=""><strong>–ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–Ω–∞ MAIN-DC1):</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-809d-a8d0-ccaf70d5cce4" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">kinit admin
ipa-getcert request -K HTTP/www.reaskills.cyber -k /tmp/www.key -f /tmp/www.crt -D www.reaskills.cyber</code></pre></div><div style="display:contents" dir="auto"><p id="3065e03f-0cac-808d-8d1c-e23bd2d16907" class=""><strong>Nginx —Å HTTPS:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-802c-9773-d50d57e82081" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">apt install -y nginx

cat &gt; /etc/nginx/sites-available/default &lt;&lt; &#x27;EOF&#x27;
server {
    listen 443 ssl;
    server_name www.reaskills.cyber;
    
    ssl_certificate /etc/nginx/www.crt;
    ssl_certificate_key /etc/nginx/www.key;
    
    root /data_saver;
    autoindex on;
}
EOF

systemctl restart nginx</code></pre></div></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>