# NFS (ОБЩИЕ ПАПКИ)

**Представь:**

- Пользователь входит на PC1
- Его файлы должны храниться на сервере MAIN-STORAGE (не на PC1)
- Когда он зайдёт с другого компьютера → его файлы там же

## **НА MAIN-STORAGE (СЕРВЕР):**

```bash
# Установить NFS сервер
apt install -y nfs-kernel-server

# Создать папку
mkdir -p /data
chmod 777 /data

# Разрешить доступ клиентам
echo "/data 192.168.3.0/24(rw,sync,no_root_squash)" >> /etc/exports

# Применить
exportfs -ra
systemctl restart nfs-kernel-server
```

**ЧТО ЭТО ЗНАЧИТ:**

- `/data` → папка, которую шарим
- `192.168.3.0/24` → кому разрешаем (подсеть PC1)
- `rw` → read/write (читать и писать)

---

## **НА PC1 (КЛИЕНТ):**

```bash
# Установить NFS клиент
apt install -y nfs-common

# Создать точку монтирования
mkdir -p /mnt/home

# Примонтировать
mount 192.168.2.10:/data /mnt/home

# Автомонтирование при загрузке
echo "192.168.2.10:/data /mnt/home nfs defaults 0 0" >> /etc/fstab
```

**Проверить:**

```bash
df -h | grep /mnt/home
```

**Должно показать примонтированную папку.**