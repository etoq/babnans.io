<html><head>

<style>
body {
    background-color: #0d1117 !important;
    color: #c9d1d9 !important;
}
html {
    background-color: #0d1117 !important;
}
h1, h2, h3, h4, h5, h6 {
    color: #58a6ff !important;
}
a {
    color: #58a6ff !important;
}
p, div, span, li, td, th {
    color: #c9d1d9 !important;
}
code {
    background-color: #161b22 !important;
    color: #79c0ff !important;
    padding: 2px 6px !important;
    border-radius: 3px !important;
}
pre {
    background-color: #161b22 !important;
    color: #79c0ff !important;
    padding: 16px !important;
    border-radius: 6px !important;
    border: 1px solid #30363d !important;
}
table {
    border-color: #30363d !important;
}
th {
    background-color: #161b22 !important;
}
</style>



<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>–ü—Ä–∞–∫—Ç–∏–∫–∞</title></head><body><article id="3055e03f-0cac-80b7-beb0-da7a832b9abe" class="page sans"><header><h1 class="page-title" dir="auto">–ü—Ä–∞–∫—Ç–∏–∫–∞</h1><p class="page-description" dir="auto"></p></header><div class="page-body"><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-80bf-a7d8-dbba60ec849e" class=""><strong>–®–ê–ì 1: –ü–†–û–í–ï–†–ö–ê –£–°–¢–ê–ù–û–í–ö–ò FreeIPA</strong></h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8071-b8b8-c26c2b9a9a04" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">systemctl status ipa</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80f7-b3a5-d5a5a7060081" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">sudo apt update
sudo apt install -y freeipa-server freeipa-server-dns</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-809d-aa13-d3003532e6ff" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ipa realm</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-807f-915a-e2734f9db29f" class=""><strong>–î–û–õ–ñ–ù–û –ü–û–ö–ê–ó–ê–¢–¨:</strong> <code>reaskills.cyber</code></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8023-a197-d127ec563569" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all"># –ù–ê –ß–ï–ú–ü–ò–û–ù–ê–¢–ï –£–ñ–ï –î–û–õ–ñ–ù–û –ë–´–¢–¨ –ù–ê–°–¢–†–û–ï–ù–û!
# –ù–æ –µ—Å–ª–∏ –Ω–µ—Ç:
sudo ipa-server-install --domain=reaskills.cyber --realm=REASKILLS.CYBER --setup-dns --forwarder=8.8.8.8
</code></pre></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-8005-b001-fcb9fa0fbf79" class=""><strong>–®–ê–ì 2: –ü–û–õ–£–ß–ò–¢–¨ ADMIN –î–û–°–¢–£–ü</strong></h2></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80b5-877b-f3ade6af2d9d" class=""><strong>–í–æ–π—Ç–∏ –∫–∞–∫ admin:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-803f-a3f9-f3e78cd3eba4" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">kinit admin</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8092-b8da-d601f16d2901" class=""><strong>–í–í–ï–î–ò –ü–ê–†–û–õ–¨ ADMIN</strong> (–æ–±—ã—á–Ω–æ –≤ –∑–∞–¥–∞–Ω–∏–∏ –Ω–∞–ø–∏—Å–∞–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä <code>P@ssw0rd</code>)</p></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8029-99d6-dc3e1361813f" class=""><strong>–ü–†–û–í–ï–†–ò–¢–¨:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8042-94c6-e9a30ef2210f" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">klist</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80be-b901-c94ae8371eb9" class=""><strong>–î–û–õ–ñ–ù–û –ü–û–ö–ê–ó–ê–¢–¨:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80c4-a2e3-e8db7252328b" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">Ticket cache: FILE:/tmp/krb5cc_0
Default principal: admin@REASKILLS.CYBER</code></pre></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-8028-b953-f34124e53925" class=""><strong>–®–ê–ì 3: –°–û–ó–î–ê–¢–¨ –ì–†–£–ü–ü–´</strong></h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80a6-9efe-c9c8fcac0121" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ipa group-add Administrators --desc=&quot;Admin users&quot;
ipa group-add Worker --desc=&quot;Worker users&quot;
ipa group-add TopManager --desc=&quot;Top managers&quot;</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-803a-b645-e0f8e0f5ffac" class=""><strong>–ü–†–û–í–ï–†–ò–¢–¨:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8041-bdb0-c54397413018" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ipa group-find</code></pre></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-80ef-9726-c8730347d3da" class=""><strong>–®–ê–ì 4: –°–û–ó–î–ê–¢–¨ 71 –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (–°–ö–†–ò–ü–¢–û–ú)</strong></h2></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-805b-8945-d2550f85a728" class=""><strong>–°–æ–∑–¥–∞–π —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-806c-9efe-f14de65509be" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">nano ~/create_users.sh</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-808f-b039-e49d0777621a" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">#!/bin/bash

for i in {1..40}; do
  echo -e &quot;P@ssw0rdAdmin\nP@ssw0rdAdmin&quot; | ipa user-add user$i --first=User --last=$i --email=user$i@reaskills.cyber --password 2&gt;/dev/null
  ipa group-add-member Administrators --users=user$i 2&gt;/dev/null
done

for i in {41..80}; do
  echo -e &quot;P@ssw0rdWorker\nP@ssw0rdWorker&quot; | ipa user-add user$i --first=User --last=$i --email=user$i@reaskills.cyber --password 2&gt;/dev/null
  ipa group-add-member Worker --users=user$i 2&gt;/dev/null
done

for i in {100..130}; do
  echo -e &quot;P@ssw0rdTop\nP@ssw0rdTop&quot; | ipa user-add superuser$i --first=SuperUser --last=$i --email=superuser$i@reaskills.cyber --password 2&gt;/dev/null
  ipa group-add-member TopManager --users=superuser$i 2&gt;/dev/null
done
</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80ac-a39b-f41669ec3ae0" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">chmod +x ~/create_users.sh
kinit admin
./create_users.sh
</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-800b-9497-d1da93921a1b" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all"># –ü–æ—Å—á–∏—Ç–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
ipa user-find | grep &quot;User login&quot; | wc -l

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–ª–µ–Ω–æ–≤ –≥—Ä—É–ø–ø—ã
ipa group-show Administrators</code></pre></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-801c-bbf0-c3cd8f88365a" class=""><strong>–®–ê–ì 5: –ù–ê–°–¢–†–û–ò–¢–¨ –ü–ê–†–û–õ–¨–ù–£–Æ –ü–û–õ–ò–¢–ò–ö–£</strong></h2></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8010-b8d6-e93684f688d0" class=""><strong>–ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8048-bb23-e5da54305254" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ipa pwpolicy-mod \
  --minlength=10 \
  --minclasses=3 \
  --history=4 \
  --maxlife=31 \
  --lockouttime=900 \
  --maxfail=3
</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8027-a13b-c48b4918e583" class=""><strong>–ß–¢–û –≠–¢–û:</strong></p></div><div style="display:contents" dir="auto"><ul id="3055e03f-0cac-80d0-bb8c-dc87043896a5" class="bulleted-list"><li style="list-style-type:disc"><code>-minlength=10</code> ‚Üí –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤</li></ul></div><div style="display:contents" dir="auto"><ul id="3055e03f-0cac-804d-a898-f650e69a1b93" class="bulleted-list"><li style="list-style-type:disc"><code>-minclasses=3</code> ‚Üí 3 –∫–ª–∞—Å—Å–∞ —Å–∏–º–≤–æ–ª–æ–≤ (–∑–∞–≥–ª–∞–≤–Ω—ã–µ, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã)</li></ul></div><div style="display:contents" dir="auto"><ul id="3055e03f-0cac-800c-ae9e-d74f246b4997" class="bulleted-list"><li style="list-style-type:disc"><code>-history=4</code> ‚Üí –ø–æ–º–Ω–∏—Ç—å 4 —Å—Ç–∞—Ä—ã—Ö –ø–∞—Ä–æ–ª—è</li></ul></div><div style="display:contents" dir="auto"><ul id="3055e03f-0cac-802e-b175-f4a460ab1c0f" class="bulleted-list"><li style="list-style-type:disc"><code>-maxlife=31</code> ‚Üí —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è 31 –¥–µ–Ω—å</li></ul></div><div style="display:contents" dir="auto"><ul id="3055e03f-0cac-80e3-9f3c-ece0cfe4e49d" class="bulleted-list"><li style="list-style-type:disc"><code>-lockouttime=900</code> ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 15 –º–∏–Ω—É—Ç (900 —Å–µ–∫—É–Ω–¥)</li></ul></div><div style="display:contents" dir="auto"><ul id="3055e03f-0cac-80f5-aaab-f5d22dbc7850" class="bulleted-list"><li style="list-style-type:disc"><code>-maxfail=3</code> ‚Üí 3 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∏</li></ul></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80fb-bd6f-cd12c0c33efb" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ipa pwpolicy-show</code></pre></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-80dd-8eac-e4aeee57c3ad" class=""><strong>–®–ê–ì 6: –°–û–ó–î–ê–¢–¨ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø PETYA</strong></h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80d5-84b3-f448605faac6" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">echo -e &quot;Pa\$\$w0rd2026-2027\nPa\$\$w0rd2026-2027&quot; | ipa user-add petya --first=Petya --last=Petrov --email=petya@reaskills.cyber --password

ipa user-mod petya --principal-expiration=20260515000000Z</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80c0-b61e-d936be67b2ce" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">ipa user-show petya</code></pre></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-8061-a6fd-fec2030d45cf" class=""><strong>–®–ê–ì 7: –ù–ê–°–¢–†–û–ò–¢–¨ BACKUP LDAP</strong></h2></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8098-b0ee-c8abdbf72bfe" class=""><strong>–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç backup:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80c8-a65d-fcb904da7513" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">sudo nano /usr/local/bin/freeipa-backup.sh</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8090-a894-f7b5c0d12199" class=""><strong>–í–°–¢–ê–í–¨:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8067-a524-f7236dc61dfc" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">#!/bin/bash

DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE=&quot;/mnt/backup-user.backup&quot;
PASSWORD=&quot;BackupPa\$\$&quot;

ldapsearch -x -D &quot;cn=Directory Manager&quot; -w &quot;$(cat /root/dm_password)&quot; -b &quot;dc=reaskills,dc=cyber&quot; -LLL &gt; /tmp/ldap_$DATE.ldif
tar -czf /tmp/ldap_$DATE.tar.gz /tmp/ldap_$DATE.ldif
openssl enc -aes-256-cbc -salt -pbkdf2 -in /tmp/ldap_$DATE.tar.gz -out $BACKUP_FILE -pass pass:&quot;$PASSWORD&quot;
rm -f /tmp/ldap_$DATE.ldif /tmp/ldap_$DATE.tar.gz
</code></pre></div><div style="display:contents" dir="auto"><hr id="3055e03f-0cac-801b-8697-fd4eae15c496"/></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8097-8194-e950656c1c37" class=""><strong>–°–î–ï–õ–ê–¢–¨ –ò–°–ü–û–õ–ù–Ø–ï–ú–´–ú:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8015-84c5-e84a8a7ef383" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">sudo chmod +x /usr/local/bin/freeipa-backup.sh</code></pre></div><div style="display:contents" dir="auto"><hr id="3055e03f-0cac-80c8-8608-d66c1fa0ac92"/></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80d2-9268-dea3b5b58a22" class=""><strong>–ù–ê–°–¢–†–û–ò–¢–¨ –ï–ñ–ï–î–ù–ï–í–ù–´–ô –ó–ê–ü–£–°–ö (cron):</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8093-9f37-eaceaa171b1e" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">sudo crontab -e</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80f3-bb49-d935ad6dd38d" class=""><strong>–î–û–ë–ê–í–¨ –°–¢–†–û–ö–£:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8098-98aa-ff5eb840f8d6" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">0 2 * * * /usr/local/bin/freeipa-backup.sh</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8012-b52f-f56bb1d3347e" class=""><strong>–ß–¢–û –≠–¢–û:</strong> –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2:00 –Ω–æ—á–∏</p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8044-9546-d2c2bf751a7c" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">sudo /usr/local/bin/freeipa-backup.sh</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80da-96b7-c1641867ccb6" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">nano ~/backup-restore-instructions.txt</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80f2-9724-e419d1988795" class=""><strong>–í–°–¢–ê–í–¨:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8064-9b46-d4e122ab62b6" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">=== –ö–ê–ö –í–û–°–°–¢–ê–ù–û–í–ò–¢–¨ BACKUP ===

1. –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤:
   openssl enc -aes-256-cbc -d -in /mnt/backup-user.backup -out backup.tar.gz -k &quot;BackupPa$$&quot;

2. –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å:
   tar -xzf backup.tar.gz

3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
   ipa-restore --data --online ipa-backup-YYYYMMDD

–ü–∞—Ä–æ–ª—å –∞—Ä—Ö–∏–≤–∞: BackupPa$$</code></pre></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-806b-9d77-c5a3f931fe48" class=""><strong>–®–ê–ì 8: –î–û–ë–ê–í–ò–¢–¨ PC1 –í –î–û–ú–ï–ù</strong></h2></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80af-92fc-d1a0542a2e95" class=""><strong>–ù–∞ MAIN-DC1 (FreeIPA —Å–µ—Ä–≤–µ—Ä):</strong></p></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80e4-a4b4-ed900f98e5b3" class=""><strong>–ù–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ ‚Äî —Å–µ—Ä–≤–µ—Ä —É–∂–µ –≥–æ—Ç–æ–≤.</strong></p></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-803a-976f-d9f12e3a993c" class=""><strong>–ù–∞ PC1 (–∫–ª–∏–µ–Ω—Ç):</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8047-a53a-c81d116dd31a" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all"># –ù–∞ PC1
apt install -y freeipa-client

ipa-client-install \
  --domain=reaskills.cyber \
  --realm=REASKILLS.CYBER \
  --server=main-dc1.reaskills.cyber \
  --mkhomedir \
  --enable-dns-updates \
  --unattended \
  --principal=admin \
  --password=&#x27;P@ssw0rd&#x27;</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-802f-a63d-f6fc855c1aaa" class=""><strong>–ö–û–ì–î–ê –°–ü–†–û–°–ò–¢:</strong></p></div><div style="display:contents" dir="auto"><ul id="3055e03f-0cac-80d7-b752-c8ace3fff49a" class="bulleted-list"><li style="list-style-type:disc">Principal: <code>admin</code></li></ul></div><div style="display:contents" dir="auto"><ul id="3055e03f-0cac-80cf-832e-ead36e852fa8" class="bulleted-list"><li style="list-style-type:disc">Password: <code>&lt;admin –ø–∞—Ä–æ–ª—å&gt;</code></li></ul></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-806b-b5c4-e09c293d377a" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all"># –ù–∞ PC1 –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ–π—Ç–∏
realm list
su - user1</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8063-b088-dac4427e215d" class=""><code>P@ssw0rdAdmin</code></p></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-8032-b11c-c05001118efd" class=""><strong>–®–ê–ì 9: –ù–ê–°–¢–†–û–ò–¢–¨ XRDP (–£–î–ê–õ–Å–ù–ù–´–ô –†–ê–ë–û–ß–ò–ô –°–¢–û–õ)</strong></h2></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80f5-a154-ef71464f1b93" class=""><strong>–ù–∞ PC1:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8044-9341-e7e8c7695eba" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all"># –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å XRDP
sudo apt install -y xrdp

# –†–∞–∑—Ä–µ—à–∏—Ç—å –≥—Ä—É–ø–ø–µ Administrators
sudo nano /etc/security/access.conf</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8005-a889-f279cb204e3d" class=""><strong>–î–û–ë–ê–í–¨:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80cb-96c7-ee1489dd9234" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">+:@Administrators:ALL
+:@worker:LOCAL
-:ALL:ALL</code></pre></div><div style="display:contents" dir="auto"><hr id="3055e03f-0cac-8002-9d71-fc3369c69272"/></div><div style="display:contents" dir="auto"><h3 id="3055e03f-0cac-80de-8519-e87f6fb4646b" class=""><strong>–õ–û–ì–ò–†–û–í–ê–ù–ò–ï XRDP –ù–ê MAIN-DC1:</strong></h3></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80d2-b2a0-d1123f985a51" class=""><strong>–ù–∞ PC1:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8070-8b1c-d9e6d770459a" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">sudo nano /etc/rsyslog.d/xrdp.conf</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8043-ade6-fb6bb64ff86d" class=""><strong>–í–°–¢–ê–í–¨:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3065e03f-0cac-80a4-bcdd-cac15129c212" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">if $programname == &#x27;xrdp&#x27; or $programname == &#x27;xrdp-sesman&#x27; then @@192.168.1.10:514&amp; stop</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80a6-8601-cbf25deecf93" class=""><strong>–ù–∞ MAIN-DC1:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80fe-a0c6-f19ffece89d1" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">sudo nano /etc/rsyslog.conf</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8017-87af-e9fc36169c1f" class=""><strong>–†–ê–°–ö–û–ú–ú–ï–ù–¢–ò–†–£–ô:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-80a4-911f-ef2d9f10c067" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">module(load=&quot;imudp&quot;)
input(type=&quot;imudp&quot; port=&quot;514&quot;)

–ò–õ–ò

sed -i &#x27;s/#module(load=&quot;imudp&quot;)/module(load=&quot;imudp&quot;)/&#x27; /etc/rsyslog.conf
sed -i &#x27;s/#input(type=&quot;imudp&quot; port=&quot;514&quot;)/input(type=&quot;imudp&quot; port=&quot;514&quot;)/&#x27; /etc/rsyslog.conf

cat &gt; /etc/rsyslog.d/xrdp-remote.conf &lt;&lt; &#x27;EOF&#x27;
:programname, isequal, &quot;xrdp&quot; /var/log/xrdp_audit.log
:programname, isequal, &quot;xrdp-sesman&quot; /var/log/xrdp_audit.log
&amp; stop
EOF

systemctl restart rsyslog
touch /var/log/xrdp_audit.log
chmod 644 /var/log/xrdp_audit.log</code></pre></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-806d-aef5-fb6a112720e0" class=""><strong>–ü–ï–†–ï–ó–ê–ü–£–°–ö:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-803b-ac83-c6fa8e53f8ed" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">sudo systemctl restart rsyslog</code></pre></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-8055-bd2c-e683bb299f54" class=""><strong>–®–ê–ì 10: –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê</strong></h2></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-8024-a834-eec6c44efd2d" class=""><strong>–ß–ï–ö–õ–ò–°–¢ –ü–†–û–í–ï–†–ö–ò:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-806e-b27d-e71d0f7e2337" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all"># 1. –î–æ–º–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
ipa realm

# 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ–∑–¥–∞–Ω–æ 71
ipa user-find | grep &quot;User login&quot; | wc -l

# 3. –ì—Ä—É–ø–ø—ã —Å–æ–∑–¥–∞–Ω—ã
ipa group-find | grep &quot;Group name&quot;

# 4. –ü–∞—Ä–æ–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
ipa pwpolicy-show

# 5. Petya —Å–æ–∑–¥–∞–Ω —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º
ipa user-show petya | grep expiration

# 6. Backup —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -lh /mnt/backup-user.backup

# 7. PC1 –≤ –¥–æ–º–µ–Ω–µ
# –ù–∞ PC1:
realm list</code></pre></div><div style="display:contents" dir="auto"><hr id="3055e03f-0cac-806e-9f99-f84b7023820d"/></div><div style="display:contents" dir="auto"><h2 id="3055e03f-0cac-8091-a147-ca0b6b638da1" class=""><strong>üìù –®–ü–ê–†–ì–ê–õ–ö–ê (–î–õ–Ø –ß–ï–ú–ü–ò–û–ù–ê–¢–ê)</strong></h2></div><div style="display:contents" dir="auto"><p id="3055e03f-0cac-80e0-8b10-e2f894f4827b" class=""><strong>–ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´:</strong></p></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3055e03f-0cac-8038-99f0-cd34a2776d3b" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all"># –í–æ–π—Ç–∏ –∫–∞–∫ admin
kinit admin

# –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
ipa group-add –ò–ú–Ø

# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
echo &quot;–ü–ê–†–û–õ–¨&quot; | ipa user-add –õ–û–ì–ò–ù --first=–ò–ú–Ø --last=–§–ê–ú–ò–õ–ò–Ø --password

# –î–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä—É–ø–ø—É
ipa group-add-member –ì–†–£–ü–ü–ê --users=–õ–û–ì–ò–ù

# –ü–∞—Ä–æ–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞
ipa pwpolicy-mod --minlength=10 --history=4 --maxlife=31

# Backup
ipa-backup --data --online -d /tmp/backup

# –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
sudo ipa-client-install --domain=reaskills.cyber</code></pre></div></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>